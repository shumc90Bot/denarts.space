!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=!0,r=!1,l;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){r=!0,l=t},f:function(){try{s||null==n.return||n.return()}finally{if(r)throw l}}}}function r(t){var e;for(e=0;e<t.length;e+=1)t[e](w)}function l(){var t=_;b&&t.length&&(_=[],r(t))}function u(){b||(b=!0,y&&clearInterval(y),l())}function d(t){return b?t(w):_.push(t),d}function c(t,e,n,i){function a(){r&&clearTimeout(r)}function o(){a(),l=!0}function s(){function o(){u=Date.now(),n.apply(d,h)}function s(){r=void 0}var d=this,c=Date.now()-u,h=arguments;l||(i&&!r&&o(),a(),void 0===i&&c>t?o():!0!==e&&(r=setTimeout(i?s:o,void 0===i?t-c:t)))}var r,l=!1,u=0;return"boolean"!=typeof e&&(i=n,n=e,e=void 0),s.cancel=o,s}function h(t,e,n){return void 0===n?c(t,e,!1):c(t,n,!1!==e)}function p(){var t=s(C),e;try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n)return void n.hide()}}catch(e){t.e(e)}finally{t.f()}}function f(){var t=s(C.reverse()),e;try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n)return void n.open()}}catch(e){t.e(e)}finally{t.f()}}var m,v,y,g="undefined"!=typeof window&&window.document,b=!g,w=g?document:null,_=[];if(g){if(document.addEventListener)document.addEventListener("DOMContentLoaded",u,!1),window.addEventListener("load",u,!1);else if(window.attachEvent){window.attachEvent("onload",u),v=document.createElement("div");try{m=null===window.frameElement}catch(t){}v.doScroll&&m&&window.external&&(y=setInterval((function(){try{v.doScroll(),u()}catch(t){}}),30))}"complete"===document.readyState&&u()}d.version="2.0.1",d.load=function(t,e,n,i){i.isBuild?n(null):d(n)};var $=jQuery,k={update:function t(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,n=Object.defineProperty({},"passive",{get:function t(){e=!0}}),i=function t(){};window.addEventListener("testPassiveEventSupport",i,n),window.removeEventListener("testPassiveEventSupport",i,n),k.hasSupport=e}}};k.update();var C=[],x=99999,E=function(){function n(i,a,o){e(this,n),"string"!=typeof i||"object"!==t(a)||a instanceof $?i&&!a&&(a=i,i=null):(o=a,a=i,i=null),this.id="popup-"+Math.random().toString(36).substr(2,9),this.title=i,this.content=a,this.args=$.extend({dismissable:!0,dismissOverlay:!0,iframe:!1,iframeAutoHeight:!1,width:0,height:0,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,hideOtherActive:!0},o),this._rendered=!1,this._isOpen=!1}return i(n,[{key:"render",value:function t(){this.$overlay=$('<div class="kalium-popup__overlay"></div>').attr("id",this.id).css("z-index",x++),this.$content=$('<div class="kalium-popup__content"></div>').attr("id",this.id).css("z-index",x++),this.title&&(this.$title=$('<div class="kalium-popup__title"></div>').html(this.title).appendTo(this.$content)),this.args.dismissable&&(this.$dismissButton=$('<a href="#" class="kalium-popup__dismiss"><i class="kalium-admin-icon-remove"></i></a>').appendTo(this.$content)),this.$contentBody=$('<div class="kalium-popup__content-body"></div>').appendTo(this.$content),this.updateSize(),this.$contentBody.append(this.getContent()),this._rendered=!0}},{key:"setupEvents",value:function t(){var e=this;if(this.$overlay.on("click",(function(t){t.preventDefault(),e.args.dismissOverlay&&e._isOpen&&e.close()})),this.$dismissButton&&this.$dismissButton.on("click",(function(t){t.preventDefault(),e.args.dismissable&&e._isOpen&&e.close()})),window.addEventListener){var n=!!k.hasSupport&&{passive:!0};this._resizeEvent=h(300,(function(){e._isOpen&&e.updateSize()})),window.addEventListener("resize",this._resizeEvent,n),this._dismissEvent=function(t){27===t.which&&e._isOpen&&e.args.dismissOverlay&&e.close()},window.addEventListener("keyup",this._dismissEvent)}}},{key:"renderAjaxContent",value:function t(){var e=this;this.$content.find(".kalium-popup__ajax-content").each((function(t,n){var i=$(n),a=i.data("url");i.addClass("kalium-popup__ajax-content--loading"),$.get(a,(function(t){i.html(t).removeClass("kalium-popup__ajax-content--loading").addClass("kalium-popup__ajax-content--loaded"),$(e).trigger("popup.load",[t,n]),e.updateSize()}))}))}},{key:"updateSize",value:function t(){var e=this.args,n={width:e.width,height:e.height,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight};for(var i in n){var a=n[i];this.$content.css(i,""),a>0&&this.$content.css(i,a)}if(this.$content.outerWidth()>$(window).width()){var o=$(window).width(),s=50;this.$content.css("max-width",o-s),this.$content.css("min-width",o-s)}if(this.$content.outerHeight()>$(window).height()){var r=$(window).height(),l=100;this.$content.css("max-height",r-l)}}},{key:"getContent",value:function t(){if("string"==typeof this.content&&this.content.match(/^https?:\/\/.+/)){this.$contentBody.addClass("kalium-popup__content-body--stretch-container");var e=this,n=e.args.iframe,i=e.args.iframeAutoHeight;return n?$('<iframe frameborder="0" hspace="0" allowtransparency="true" class="kalium-popup__iframe">This feature requires inline frames. You have iframes disabled or your browser does not support them.</iframe>').attr("src",this.content).on("load",(function(){var t=$(this);if(t.addClass("kalium-popup__iframe--loaded"),i)try{var n,a=$(this.contentDocument).height(),o=e.args.maxHeight;o>0&&a>o&&(a=o),t.height(a)}catch(t){}$(e).trigger("load",[this])})):$('<div class="kalium-popup__ajax-content"></div>').data({url:this.content}).html("Loading&hellip;")}return this.content}},{key:"open",value:function t(){if(this._isOpen)return this;if(!1===this._rendered){this.render(),this.setupEvents();var e=$(document.body);e.append(this.$overlay),e.append(this.$content),this.renderAjaxContent()}else{var n="kalium-popup--hidden";this.$overlay.removeClass(n),this.$content.removeClass(n)}return this.args.hideOtherActive&&p(),C.push(this),this._isOpen=!0,$(this).trigger("popup.open"),this}},{key:"hide",value:function t(){if(!this._isOpen)return this;var e="kalium-popup--hidden";return this.$overlay.addClass(e),this.$content.addClass(e),this._isOpen=!1,$(this).trigger("popup.hide"),this}},{key:"close",value:function t(){for(var e in this.$overlay.remove(),this.$content.remove(),window.removeEventListener&&(window.removeEventListener("resize",this._resizeEvent),window.removeEventListener("keyup",this._dismissEvent)),this._rendered=!1,this._isOpen=!1,C)this===C[e]&&delete C[e];return this.args.hideOtherActive&&f(),$(this).trigger("popup.close"),this}}]),n}();E.open=function(t,e,n){return new E(t,e,n).open()},d((function(){var t=function t(e,n){var i=$(e),a=i.find(".about-kalium__faq-article-entry-content");a.slideDown(220,(function(){i.addClass(n),a.removeAttr("style")}))},e=function t(e,n){var i=$(e),a=i.find(".about-kalium__faq-article-entry-content");a.slideUp(220,(function(){i.removeClass(n),a.removeAttr("style")}))};$(".about-kalium__faq-articles .about-kalium__faq-article-entry").each((function(n,i){var a=$(i),o=a.attr("id"),s="expanded",r=a.find("h3 a");window.location.hash.endsWith(o)&&t(i,s),r.on("click",(function(n){if(n.preventDefault(),!1===a.hasClass(s)){a.siblings().each((function(t,n){var i;$(n).hasClass(s)&&e(n,s)})),t(i,s);var r=$(window).scrollTop();window.location.hash=o,$(window).scrollTop(r)}else e(i,s)}))}))})),d((function(){$.fn.tooltipster&&$(".about-kalium__system-status-table .help i").each((function(t,e){var n;e.getAttribute("title")&&$(e).tooltipster({theme:"tooltipster-borderless",position:"top",maxWidth:250})}));var t=$(".about-kalium__system-status-report .debug-report"),e;if(t.length&&(function t(e){var n="";$(e).each((function(t,e){var i=$(e),a="\n";if(t>0&&(n+="\n\n\n"),i.is("table")){var o=i.find("thead th").text(),s=i.find("tbody tr");n+="### ".concat(o," ###"),n+="\n\n",s.each((function(t,e){var i=$(e),o=i.find("td:first").text(),s=i.find("th").html();s=(s=s.replace('<i class="kalium-admin-icon-check kalium-icon-size-12"></i>',"✔️")).replace('<i class="kalium-admin-icon-remove kalium-icon-size-12"></i>',"❌");var r=document.createElement("span");r.innerHTML=s,s=r.innerText,n+="".concat(o," ").concat(s),n+=a}))}})),$("#system-status-report").val(n)}(".about-kalium__system-status-table"),t.on("click",(function(t){t.preventDefault(),$(".about-kalium__system-status-report-data").slideToggle(200)})),"function"==typeof ClipboardJS)){var n=new ClipboardJS("#system-status-report-button"),i=$("#system-status-report-button");i.tooltipster({theme:"tooltipster-borderless",content:"Copied!",side:"bottom",trigger:"click"}),n.on("success",(function(){i.tooltipster("show")})),n.on("error",(function(){i.tooltipster("close")}))}})),d((function(){function t(){if("busy"!==i){var o=n.shift();if(o&&o.length){i="busy";var s=o.attr("href"),r=o.data("button-text"),l=o.data("title-processing"),u=["button--state-install","button--state-activate","button--state-update","button--state-active","button-primary"],d="is-loading";o.addClass(d).html(l);var c={};a&&$.extend(c,a),$.post(s,c,(function(l){var c=$("<div>").append(l),h=!1,p=c.find(".kalium-tgmpa-ajax-response").html(),f=c.find("#request-filesystem-credentials-form");o.removeClass(d).html(r),i="free";try{(p=JSON.parse(p)).hasOwnProperty("success")&&(h=p.success)}catch(t){}if(0<f.length){var m=new E(null,f.parent()[0].outerHTML,{dismissable:!0,dismissOverlay:!1,minWidth:600,hideOtherActive:!1});m.open();var v=$(m.$content.find("#request-filesystem-credentials-form").parent()),y=v.find('input[type="submit"]');v.on("submit",(function(){var e={};return $.each(v.serializeArray(),(function(t,n){e[n.name]=n.value})),y.addClass("disabled"),a=e,m.close(),n.unshift(o),t(),!1}))}else if(h){if(p.button_state&&(o.removeClass(u.join(" ")).addClass("button--state-".concat(p.button_state)),-1!==$.inArray(p.button_state,["install","activate"])&&o.addClass("button-primary")),p.button_text&&o.html(p.button_text),p.button_url&&(s=p.button_url.replace(/&amp;/g,"&"),o.attr("href",s)),p.processing_text&&o.data("title-processing",p.processing_text),"install-plugin"===p.action);else if("update-plugin"===p.action){if(p.plugin_updated){var g=o.closest(".about-kalium__plugin-item");g.length&&g.find(".about-kalium__plugin-item-update-notice").remove(),p.hasOwnProperty("new_version")&&g.find(".about-kalium__plugin-item-name .version").html(p.new_version)}}else p.action;t()}else{var b=$("<div>").append(l);if(b.find(".wrap")){var w=b.find(".wrap"),_=["<strong>An error occurred!</strong>"];p&&p.hasOwnProperty("message")&&p.message&&_.push(p.message),w.find("*:empty, p:last-child").remove(),E.open(_.join("\n"),w.html(),{width:600})}e()}}))}}}function e(){var t=s(n),e;try{for(t.s();!(e=t.n()).done;){var i=e.value;i.length&&i.removeClass("is-loading").html(i.data("button-text"))}}catch(e){t.e(e)}finally{t.f()}}var n=[],i="free",a=null;$(".button-tgmpa-ajax").each((function(e,i){var a=$(i),o=a.html(),s=a.data("title-processing"),r="is-loading";a.on("click",(function(e){e.preventDefault(),a.hasClass(r)||(a.data("button-text",o),a.addClass(r).html(s),n.push(a),t())})),a.addClass("button-tgmpa-ajax--ready")})),window.releaseInstallPlugins=e,$(".about-kalium__plugins-filter").each((function(t,e){var n,i=$(e).find("[data-filter]"),a=$(".about-kalium__plugins [data-filter]"),o=function t(e){var n="filter-out";$(".about-kalium__plugins .about-kalium__plugins-no-entries").remove(),a.each((function(t,i){var a=$(i),o=a.data("filter");"all"===e?a[o.optional?"addClass":"removeClass"](n):a[o[e]?"removeClass":"addClass"](n)})),0===a.not(".".concat(n)).length&&$(".about-kalium__plugins").append('<li class="about-kalium__plugins-no-entries"><div class="about-kalium__plugin-item">There are no plugins matching this filter!</div></li>');var i=$(window).scrollTop();window.location.hash="plugins-".concat(e),$(window).scrollTop(i)};i.on("click",(function(t){t.preventDefault();var e=$(this);i.removeClass("button-primary"),e.addClass("button-primary"),o(e.data("filter"))}));var s=null;window.location.hash&&(s=window.location.hash.match(/plugins-(\w+)/))&&(i.removeClass("button-primary").filter('[data-filter="'+s[1]+'"]').addClass("button-primary"),o(s[1]))}))}))}));