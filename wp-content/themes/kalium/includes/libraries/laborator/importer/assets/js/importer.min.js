!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(t){var e;for(e=0;e<t.length;e+=1)t[e](Ut)}function e(){var e=Yt;Wt&&e.length&&(Yt=[],t(e))}function n(){Wt||(Wt=!0,Rt&&clearInterval(Rt),e())}function r(t){return Wt?t(Ut):Yt.push(t),r}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){return h(t)||v(t,e)||g(t,e)||b()}function f(t){return p(t)||m(t)||g(t)||k()}function p(t){if(Array.isArray(t))return y(t)}function h(t){if(Array.isArray(t))return t}function m(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function v(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{i||null==n.return||n.return()}finally{if(o)throw s}}return r}}function g(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=g(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,a=!1,s;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function _(t,e,n,r){function i(){s&&clearTimeout(s)}function o(){i(),u=!0}function a(){function o(){c=Date.now(),n.apply(l,f)}function a(){s=void 0}var l=this,d=Date.now()-c,f=arguments;u||(r&&!s&&o(),i(),void 0===r&&d>t?o():!0!==e&&(s=setTimeout(r?a:o,void 0===r?t-d:t)))}var s,u=!1,c=0;return"boolean"!=typeof e&&(r=n,n=e,e=void 0),a.cancel=o,a}function C(t,e,n){return void 0===n?_(t,e,!1):_(t,n,!1!==e)}function P(){var t=w(Qt),e;try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n)return void n.hide()}}catch(e){t.e(e)}finally{t.f()}}function O(){var t=w(Qt.reverse()),e;try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n)return void n.open()}}catch(e){t.e(e)}finally{t.f()}}function x(t,e){var n=document.createElement("div");n.innerHTML=t;var r=n.querySelector(e),i=r?r.innerHTML:"";n.remove(),n=null;try{return JSON.parse(i)}catch(t){}return null}function E(t,e,n){var r=arguments.length>1&&void 0!==e?e:[],i=arguments.length>2&&void 0!==n?n:{};i=o({title:"Error"},i);var a=$('<div class="kalium-demos__popup-errors"></div>');if(a.append(t.wrapErrors("",{className:"kalium-demos__popup-error"})),r.length>0){var s=$('<div class="kalium-demos__popup-errors-buttons"></div>'),u=w(r),c;try{var l=function t(){var e=c.value;e=o({title:"",class:"button",link:"#",click:null},e);var n=$("<a></a>").attr({href:e.link,class:e.class}).html(e.title);"function"==typeof e.click&&n.on("click",(function(t){t.preventDefault(),e.click.call(n,d)})),s.append(n)};for(u.s();!(c=u.n()).done;)l()}catch(t){u.e(t)}finally{u.f()}a.append(s)}var d=new Xt(i.title,a,{dismissable:!1,dismissOverlay:!1,minWidth:600,hideOtherActive:!1});return d.open(),d}function T(t){var e=document.createElement("div");return e.textContent=t,e.innerHTML}function S(){var t;(t=console).log.apply(t,arguments)}function I(t,e,n){return Math.min(Math.max(t,e),n)}function A(t,e){return t.indexOf(e)>-1}function M(t,e){return t.apply(null,e)}function j(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map((function(t){return parseFloat(t)})):[]}function B(t,e){function n(t){var n=e?e*t/1e3:t;return n=l<1?Math.exp(-n*l*c)*(1*Math.cos(d*n)+p*Math.sin(d*n)):(1+p*n)*Math.exp(-n*c),0===t||1===t?t:1-n}function r(){var e=ue.springs[t];if(e)return e;for(var r=1/6,i=0,o=0;;)if(1===n(i+=r)){if(++o>=16)break}else o=0;var a=i*r*1e3;return ue.springs[t]=a,a}var i=j(t),o=I(ce.und(i[0])?1:i[0],.1,100),a=I(ce.und(i[1])?100:i[1],.1,100),s=I(ce.und(i[2])?10:i[2],.1,100),u=I(ce.und(i[3])?0:i[3],.1,100),c=Math.sqrt(a/o),l=s/(2*Math.sqrt(a*o)),d=l<1?c*Math.sqrt(1-l*l):0,f=1,p=l<1?(l*c-u)/d:-u+c;return e?n:r}function F(t){return void 0===t&&(t=10),function(e){return Math.round(e*t)*(1/t)}}function L(t,e){if(ce.fnc(t))return t;var n=t.split("(")[0],r=de[n],i=j(t);switch(n){case"spring":return B(t,e);case"cubicBezier":return M(le,i);case"steps":return M(F,i);default:return M(r,i)}}function D(t){try{var e;return document.querySelectorAll(t)}catch(t){return}}function q(t,e){for(var n=t.length,r=arguments.length>=2?e:void 0,i=[],o=0;o<n;o++)if(o in t){var a=t[o];e.call(r,a,o,t)&&i.push(a)}return i}function N(t){return t.reduce((function(t,e){return t.concat(ce.arr(e)?N(e):e)}),[])}function H(t){return ce.arr(t)?t:(ce.str(t)&&(t=D(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function R(t,e){return t.some((function(t){return t===e}))}function z(t){var e={};for(var n in t)e[n]=t[n];return e}function W(t,e){var n=z(t);for(var r in t)n[r]=e.hasOwnProperty(r)?e[r]:t[r];return n}function U(t,e){var n=z(t);for(var r in e)n[r]=ce.und(t[r])?e[r]:t[r];return n}function Y(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function J(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=t.replace(e,(function(t,e,n,r){return e+e+n+n+r+r})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i,o,a;return"rgba("+parseInt(r[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"}function Q(t){function e(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),r=parseInt(n[1],10)/360,i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,a=n[4]||1,s,u,c;if(0==i)s=u=c=o;else{var l=o<.5?o*(1+i):o+i-o*i,d=2*o-l;s=e(d,l,r+1/3),u=e(d,l,r),c=e(d,l,r-1/3)}return"rgba("+255*s+","+255*u+","+255*c+","+a+")"}function V(t){return ce.rgb(t)?Y(t):ce.hex(t)?J(t):ce.hsl(t)?Q(t):void 0}function X(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function Z(t){return A(t,"translate")||"perspective"===t?"px":A(t,"rotate")||A(t,"skew")?"deg":void 0}function G(t,e){return ce.fnc(t)?t(e.target,e.id,e.total):t}function K(t,e){return t.getAttribute(e)}function tt(t,e,n){var r;if(R([n,"deg","rad","turn"],X(e)))return e;var i=ue.CSS[e+n];if(!ce.und(i))return i;var o=100,a=document.createElement(t.tagName),s=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;s.appendChild(a),a.style.position="absolute",a.style.width=o+n;var u=o/a.offsetWidth;s.removeChild(a);var c=u*parseFloat(e);return ue.CSS[e+n]=c,c}function et(t,e,n){if(e in t.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[e]||getComputedStyle(t).getPropertyValue(r)||"0";return n?tt(t,i,n):i}}function nt(t,e){return ce.dom(t)&&!ce.inp(t)&&(K(t,e)||ce.svg(t)&&t[e])?"attribute":ce.dom(t)&&R(se,e)?"transform":ce.dom(t)&&"transform"!==e&&et(t,e)?"css":null!=t[e]?"object":void 0}function rt(t){if(ce.dom(t)){for(var e=t.style.transform||"",n=/(\w+)\(([^)]*)\)/g,r=new Map,i;i=n.exec(e);)r.set(i[1],i[2]);return r}}function it(t,e,n,r){var i=A(e,"scale")?1:0+Z(e),o=rt(t).get(e)||i;return n&&(n.transforms.list.set(e,o),n.transforms.last=e),r?tt(t,o,r):o}function ot(t,e,n,r){switch(nt(t,e)){case"transform":return it(t,e,r,n);case"css":return et(t,e,n);case"attribute":return K(t,e);default:return t[e]||0}}function at(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var r=X(t)||0,i=parseFloat(e),o=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function st(t,e){if(ce.col(t))return V(t);if(/\s/g.test(t))return t;var n=X(t),r=n?t.substr(0,t.length-n.length):t;return e?r+e:r}function ut(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ct(t){return 2*Math.PI*K(t,"r")}function lt(t){return 2*K(t,"width")+2*K(t,"height")}function dt(t){return ut({x:K(t,"x1"),y:K(t,"y1")},{x:K(t,"x2"),y:K(t,"y2")})}function ft(t){for(var e=t.points,n=0,r,i=0;i<e.numberOfItems;i++){var o=e.getItem(i);i>0&&(n+=ut(r,o)),r=o}return n}function pt(t){var e=t.points;return ft(t)+ut(e.getItem(e.numberOfItems-1),e.getItem(0))}function ht(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return ct(t);case"rect":return lt(t);case"line":return dt(t);case"polyline":return ft(t);case"polygon":return pt(t)}}function mt(t){var e=ht(t);return t.setAttribute("stroke-dasharray",e),e}function vt(t){for(var e=t.parentNode;ce.svg(e)&&ce.svg(e.parentNode);)e=e.parentNode;return e}function gt(t,e){var n=e||{},r=n.el||vt(t),i=r.getBoundingClientRect(),o=K(r,"viewBox"),a=i.width,s=i.height,u=n.viewBox||(o?o.split(" "):[0,0,a,s]);return{el:r,viewBox:u,x:u[0]/1,y:u[1]/1,w:a/u[2],h:s/u[3]}}function yt(t,e){var n=ce.str(t)?D(t)[0]:t,r=e||100;return function(t){return{property:t,el:n,svg:gt(n),totalLength:ht(n)*(r/100)}}}function kt(t,e){function n(n){void 0===n&&(n=0);var r=e+n>=1?e+n:0;return t.el.getPointAtLength(r)}var r=gt(t.el,t.svg),i=n(),o=n(-1),a=n(1);switch(t.property){case"x":return(i.x-r.x)*r.w;case"y":return(i.y-r.y)*r.h;case"angle":return 180*Math.atan2(a.y-o.y,a.x-o.x)/Math.PI}}function bt(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=st(ce.pth(t)?t.totalLength:t,e)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:ce.str(t)||e?r.split(n):[]}}function wt(t){var e;return q(t?N(ce.arr(t)?t.map(H):H(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function _t(t){var e=wt(t);return e.map((function(t,n){return{target:t,id:n,total:e.length,transforms:{list:rt(t)}}}))}function Ct(t,e){var n=z(e);if(/^spring/.test(n.easing)&&(n.duration=B(n.easing)),ce.arr(t)){var r=t.length,i;2===r&&!ce.obj(t[0])?t={value:t}:ce.fnc(e.duration)||(n.duration=e.duration/r)}var o=ce.arr(t)?t:[t];return o.map((function(t,n){var r=ce.obj(t)&&!ce.pth(t)?t:{value:t};return ce.und(r.delay)&&(r.delay=n?0:e.delay),ce.und(r.endDelay)&&(r.endDelay=n===o.length-1?e.endDelay:0),r})).map((function(t){return U(t,n)}))}function Pt(t){for(var e=q(N(t.map((function(t){return Object.keys(t)}))),(function(t){return ce.key(t)})).reduce((function(t,e){return t.indexOf(e)<0&&t.push(e),t}),[]),n={},r=function r(i){var o=e[i];n[o]=t.map((function(t){var e={};for(var n in t)ce.key(n)?n==o&&(e.value=t[n]):e[n]=t[n];return e}))},i=0;i<e.length;i++)r(i);return n}function Ot(t,e){var n=[],r=e.keyframes;for(var i in r&&(e=U(Pt(r),e)),e)ce.key(i)&&n.push({name:i,tweens:Ct(e[i],t)});return n}function xt(t,e){var n={};for(var r in t){var i=G(t[r],e);ce.arr(i)&&1===(i=i.map((function(t){return G(t,e)}))).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function Et(t,e){var n;return t.tweens.map((function(r){var i=xt(r,e),o=i.value,a=ce.arr(o)?o[1]:o,s=X(a),u=ot(e.target,t.name,s,e),c=n?n.to.original:u,l=ce.arr(o)?o[0]:c,d=X(l)||X(u),f=s||d;return ce.und(a)&&(a=c),i.from=bt(l,f),i.to=bt(at(a,l),f),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=L(i.easing,i.duration),i.isPath=ce.pth(o),i.isColor=ce.col(i.from.original),i.isColor&&(i.round=1),n=i,i}))}function Tt(t,e){var n;_t(t).forEach((function(t){for(var n in e){var r=G(e[n],t),i=t.target,o=X(r),a=ot(i,n,o,t),s,u=at(st(r,o||X(a)),a),c=nt(i,n);me[c](i,n,u,t.transforms,!0)}}))}function $t(t,e){var n=nt(t.target,e.name);if(n){var r=Et(e,t),i=r[r.length-1];return{type:n,property:e.name,animatable:t,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}function St(t,e){return q(N(t.map((function(t){return e.map((function(e){return $t(t,e)}))}))),(function(t){return!ce.und(t)}))}function It(t,e){var n=t.length,r=function t(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,t.map((function(t){return r(t)+t.duration}))):e.duration,i.delay=n?Math.min.apply(Math,t.map((function(t){return r(t)+t.delay}))):e.delay,i.endDelay=n?i.duration-Math.max.apply(Math,t.map((function(t){return r(t)+t.duration-t.endDelay}))):e.endDelay,i}function At(t){var e=W(oe,t),n=W(ae,t),r=Ot(n,t),i=_t(t.targets),o=St(i,r),a=It(o,n),s=ve;return ve++,U(e,{id:s,children:[],animatables:i,animations:o,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}function Mt(){document.hidden?(ge.forEach((function(t){return t.pause()})),ye=ge.slice(0),jt.running=ge=[]):ye.forEach((function(t){return t.play()}))}function jt(t){function e(t){var e=window.Promise&&new Promise((function(t){return v=t}));return t.finished=e,e}function n(){var t=g.direction;"alternate"!==t&&(g.direction="normal"!==t?"normal":"reverse"),g.reversed=!g.reversed,h.forEach((function(t){return t.reversed=g.reversed}))}function r(t){return g.reversed?g.duration-t:t}function i(){d=0,f=r(g.currentTime)*(1/jt.speed)}function o(t,e){e&&e.seek(t-e.timelineOffset)}function a(t){if(g.reversePlayback)for(var e=m;e--;)o(t,h[e]);else for(var n=0;n<m;n++)o(t,h[n])}function s(t){for(var e=0,n=g.animations,r=n.length;e<r;){var i=n[e],o=i.animatable,a=i.tweens,s=a.length-1,u=a[s];s&&(u=q(a,(function(e){return t<e.end}))[0]||u);for(var c=I(t-u.start-u.delay,0,u.duration)/u.duration,l=isNaN(c)?1:u.easing(c),d=u.to.strings,f=u.round,p=[],h=u.to.numbers.length,m=void 0,v=0;v<h;v++){var y=void 0,k=u.to.numbers[v],b=u.from.numbers[v]||0;y=u.isPath?kt(u.value,l*k):b+l*(k-b),f&&(u.isColor&&v>2||(y=Math.round(y*f)/f)),p.push(y)}var w=d.length;if(w){m=d[0];for(var _=0;_<w;_++){d[_];var C=d[_+1],P=p[_];isNaN(P)||(m+=C?P+C:P+" ")}}else m=p[0];me[i.type](o.target,i.property,m,o.transforms),i.currentValue=m,e++}}function u(t){g[t]&&!g.passThrough&&g[t](g)}function c(){g.remaining&&!0!==g.remaining&&g.remaining--}function l(t){var i=g.duration,o=g.delay,l=i-g.endDelay,m=r(t);g.progress=I(m/i*100,0,100),g.reversePlayback=m<g.currentTime,h&&a(m),!g.began&&g.currentTime>0&&(g.began=!0,u("begin")),!g.loopBegan&&g.currentTime>0&&(g.loopBegan=!0,u("loopBegin")),m<=o&&0!==g.currentTime&&s(0),(m>=l&&g.currentTime!==i||!i)&&s(i),m>o&&m<l?(g.changeBegan||(g.changeBegan=!0,g.changeCompleted=!1,u("changeBegin")),u("change"),s(m)):g.changeBegan&&(g.changeCompleted=!0,g.changeBegan=!1,u("changeComplete")),g.currentTime=I(m,0,i),g.began&&u("update"),t>=i&&(f=0,c(),g.remaining?(d=p,u("loopComplete"),g.loopBegan=!1,"alternate"===g.direction&&n()):(g.paused=!0,g.completed||(g.completed=!0,u("loopComplete"),u("complete"),!g.passThrough&&"Promise"in window&&(v(),e(g)))))}void 0===t&&(t={});var d=0,f=0,p=0,h,m=0,v=null,g=At(t);return e(g),g.reset=function(){var t=g.direction;g.passThrough=!1,g.currentTime=0,g.progress=0,g.paused=!0,g.began=!1,g.loopBegan=!1,g.changeBegan=!1,g.completed=!1,g.changeCompleted=!1,g.reversePlayback=!1,g.reversed="reverse"===t,g.remaining=g.loop,h=g.children;for(var e=m=h.length;e--;)g.children[e].reset();(g.reversed&&!0!==g.loop||"alternate"===t&&1===g.loop)&&g.remaining++,s(g.reversed?g.duration:0)},g.set=function(t,e){return Tt(t,e),g},g.tick=function(t){p=t,d||(d=p),l((p+(f-d))*jt.speed)},g.seek=function(t){l(r(t))},g.pause=function(){g.paused=!0,i()},g.play=function(){g.paused&&(g.completed&&g.reset(),g.paused=!1,ge.push(g),i(),ke||be())},g.reverse=function(){n(),i()},g.restart=function(){g.reset(),g.play()},g.reset(),g.autoplay&&g.play(),g}function Bt(t,e){for(var n=e.length;n--;)R(t,e[n].animatable.target)&&e.splice(n,1)}function Ft(t){for(var e=wt(t),n=ge.length;n--;){var r=ge[n],i=r.animations,o=r.children;Bt(e,i);for(var a=o.length;a--;){var s=o[a],u=s.animations;Bt(e,u),u.length||s.children.length||o.splice(a,1)}i.length||o.length||r.pause()}}function Lt(t,e){void 0===e&&(e={});var n=e.direction||"normal",r=e.easing?L(e.easing):null,i=e.grid,o=e.axis,a=e.from||0,s="first"===a,u="center"===a,c="last"===a,l=ce.arr(t),d=l?parseFloat(t[0]):parseFloat(t),f=l?parseFloat(t[1]):0,p=X(l?t[1]:t)||0,h=e.start||0+(l?d:0),m=[],v=0;return function(t,e,g){if(s&&(a=0),u&&(a=(g-1)/2),c&&(a=g-1),!m.length){for(var y=0;y<g;y++){if(i){var k=u?(i[0]-1)/2:a%i[0],b=u?(i[1]-1)/2:Math.floor(a/i[0]),w,_,C=k-y%i[0],P=b-Math.floor(y/i[0]),O=Math.sqrt(C*C+P*P);"x"===o&&(O=-C),"y"===o&&(O=-P),m.push(O)}else m.push(Math.abs(a-y));v=Math.max.apply(Math,m)}r&&(m=m.map((function(t){return r(t/v)*v}))),"reverse"===n&&(m=m.map((function(t){return o?t<0?-1*t:-t:Math.abs(v-t)})))}var x;return h+(l?(f-d)/v:d)*(Math.round(100*m[e])/100)+p}}function Dt(t){void 0===t&&(t={});var e=jt(t);return e.duration=0,e.add=function(n,r){function i(t){t.passThrough=!0}var o=ge.indexOf(e),a=e.children;o>-1&&ge.splice(o,1);for(var s=0;s<a.length;s++)i(a[s]);var u=U(n,W(ae,t));u.targets=u.targets||t.targets;var c=e.duration;u.autoplay=!1,u.direction=e.direction,u.timelineOffset=ce.und(r)?c:at(r,c),i(e),e.seek(u.timelineOffset);var l=jt(u);i(l),a.push(l);var d=It(a,t);return e.delay=d.delay,e.endDelay=d.endDelay,e.duration=d.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}function qt(t,e,n){var r=arguments.length>2&&void 0!==n?n:[],i='<p class="kalium-demos__content-pack-view-warnings-description">'.concat(t,"</p>");i+='<ul class="kalium-demos__content-pack-view-warnings">';var o=w(e),a;try{for(o.s();!(a=o.n()).done;){var s=a.value;i+="<li>".concat(s.message,"</li>")}}catch(t){o.e(t)}finally{o.f()}if(i+="</ul>",r instanceof Array&&r.length>0){i+='<div class="kalium-demos__content-pack-view-warnings-buttons">';var u=w(r),c;try{for(u.s();!(c=u.n()).done;){var l=c.value;l.link?i+='<a href="'.concat(l.link,'" class="').concat(l.class,'" target="_blank" rel="noreferrer noopener">').concat(l.title,"</a>"):i+='<button type="button" class="'.concat(l.class,'">').concat(l.title,"</button>")}}catch(t){u.e(t)}finally{u.f()}i+="</div>"}return i}var $=jQuery,Nt,Ht,Rt,zt="undefined"!=typeof window&&window.document,Wt=!zt,Ut=zt?document:null,Yt=[];if(zt){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),Ht=document.createElement("div");try{Nt=null===window.frameElement}catch(t){}Ht.doScroll&&Nt&&window.external&&(Rt=setInterval((function(){try{Ht.doScroll(),n()}catch(t){}}),30))}"complete"===document.readyState&&n()}r.version="2.0.1",r.load=function(t,e,n,i){i.isBuild?n(null):r(n)};var Jt={update:function t(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,n=Object.defineProperty({},"passive",{get:function t(){e=!0}}),r=function t(){};window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),Jt.hasSupport=e}}};Jt.update();var Qt=[],Vt=99999,Xt=function(){function t(e,n,r){s(this,t),"string"!=typeof e||"object"!==a(n)||n instanceof $?e&&!n&&(n=e,e=null):(r=n,n=e,e=null),this.id="popup-"+Math.random().toString(36).substr(2,9),this.title=e,this.content=n,this.args=$.extend({dismissable:!0,dismissOverlay:!0,iframe:!1,iframeAutoHeight:!1,width:0,height:0,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,hideOtherActive:!0},r),this._rendered=!1,this._isOpen=!1}return c(t,[{key:"render",value:function t(){this.$overlay=$('<div class="kalium-popup__overlay"></div>').attr("id",this.id).css("z-index",Vt++),this.$content=$('<div class="kalium-popup__content"></div>').attr("id",this.id).css("z-index",Vt++),this.title&&(this.$title=$('<div class="kalium-popup__title"></div>').html(this.title).appendTo(this.$content)),this.args.dismissable&&(this.$dismissButton=$('<a href="#" class="kalium-popup__dismiss"><i class="kalium-admin-icon-remove"></i></a>').appendTo(this.$content)),this.$contentBody=$('<div class="kalium-popup__content-body"></div>').appendTo(this.$content),this.updateSize(),this.$contentBody.append(this.getContent()),this._rendered=!0}},{key:"setupEvents",value:function t(){var e=this;if(this.$overlay.on("click",(function(t){t.preventDefault(),e.args.dismissOverlay&&e._isOpen&&e.close()})),this.$dismissButton&&this.$dismissButton.on("click",(function(t){t.preventDefault(),e.args.dismissable&&e._isOpen&&e.close()})),window.addEventListener){var n=!!Jt.hasSupport&&{passive:!0};this._resizeEvent=C(300,(function(){e._isOpen&&e.updateSize()})),window.addEventListener("resize",this._resizeEvent,n),this._dismissEvent=function(t){27===t.which&&e._isOpen&&e.args.dismissOverlay&&e.close()},window.addEventListener("keyup",this._dismissEvent)}}},{key:"renderAjaxContent",value:function t(){var e=this;this.$content.find(".kalium-popup__ajax-content").each((function(t,n){var r=$(n),i=r.data("url");r.addClass("kalium-popup__ajax-content--loading"),$.get(i,(function(t){r.html(t).removeClass("kalium-popup__ajax-content--loading").addClass("kalium-popup__ajax-content--loaded"),$(e).trigger("popup.load",[t,n]),e.updateSize()}))}))}},{key:"updateSize",value:function t(){var e=this.args,n={width:e.width,height:e.height,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight};for(var r in n){var i=n[r];this.$content.css(r,""),i>0&&this.$content.css(r,i)}if(this.$content.outerWidth()>$(window).width()){var o=$(window).width(),a=50;this.$content.css("max-width",o-a),this.$content.css("min-width",o-a)}if(this.$content.outerHeight()>$(window).height()){var s=$(window).height(),u=100;this.$content.css("max-height",s-u)}}},{key:"getContent",value:function t(){if("string"==typeof this.content&&this.content.match(/^https?:\/\/.+/)){this.$contentBody.addClass("kalium-popup__content-body--stretch-container");var e=this,n=e.args.iframe,r=e.args.iframeAutoHeight;return n?$('<iframe frameborder="0" hspace="0" allowtransparency="true" class="kalium-popup__iframe">This feature requires inline frames. You have iframes disabled or your browser does not support them.</iframe>').attr("src",this.content).on("load",(function(){var t=$(this);if(t.addClass("kalium-popup__iframe--loaded"),r)try{var n,i=$(this.contentDocument).height(),o=e.args.maxHeight;o>0&&i>o&&(i=o),t.height(i)}catch(t){}$(e).trigger("load",[this])})):$('<div class="kalium-popup__ajax-content"></div>').data({url:this.content}).html("Loading&hellip;")}return this.content}},{key:"open",value:function t(){if(this._isOpen)return this;if(!1===this._rendered){this.render(),this.setupEvents();var e=$(document.body);e.append(this.$overlay),e.append(this.$content),this.renderAjaxContent()}else{var n="kalium-popup--hidden";this.$overlay.removeClass(n),this.$content.removeClass(n)}return this.args.hideOtherActive&&P(),Qt.push(this),this._isOpen=!0,$(this).trigger("popup.open"),this}},{key:"hide",value:function t(){if(!this._isOpen)return this;var e="kalium-popup--hidden";return this.$overlay.addClass(e),this.$content.addClass(e),this._isOpen=!1,$(this).trigger("popup.hide"),this}},{key:"close",value:function t(){for(var e in this.$overlay.remove(),this.$content.remove(),window.removeEventListener&&(window.removeEventListener("resize",this._resizeEvent),window.removeEventListener("keyup",this._dismissEvent)),this._rendered=!1,this._isOpen=!1,Qt)this===Qt[e]&&delete Qt[e];return this.args.hideOtherActive&&O(),$(this).trigger("popup.close"),this}}]),t}();Xt.open=function(t,e,n){return new Xt(t,e,n).open()};var Zt=function(){function t(e,n,r){var i=arguments.length>0&&void 0!==e?e:"",o=arguments.length>1&&void 0!==n?n:"",a=arguments.length>2&&void 0!==r?r:"";s(this,t),this.errors={},this.errorData={},i&&this.add(i,o,a)}return c(t,[{key:"getErrorCodes",value:function t(){return this.hasErrors()?Object.keys(this.errors):[]}},{key:"getErrorCode",value:function t(){var e=this.getErrorCodes();return 0===e.length?"":e[0]}},{key:"getErrorMessages",value:function t(e){var n=arguments.length>0&&void 0!==e?e:"",r=[];for(var i in this.errors)if(n&&i==="".concat(n)){var o=w(this.errors[i]),a;try{for(o.s();!(a=o.n()).done;){var s=a.value;r.push(s)}}catch(t){o.e(t)}finally{o.f()}}else if(!n){var u=w(this.errors[i]),c;try{for(u.s();!(c=u.n()).done;){var l=c.value;r.push(l)}}catch(t){u.e(t)}finally{u.f()}}return r}},{key:"getErrorMessage",value:function t(e){var n=arguments.length>0&&void 0!==e?e:"";n||(n=this.getErrorCode());var r=this.getErrorMessages(n);return 0===r.length?"":r[0]}},{key:"getErrorData",value:function t(e){var n=arguments.length>0&&void 0!==e?e:"";return n||(n=this.getErrorCode()),this.errorData.hasOwnProperty(n)?this.errorData[n]:null}},{key:"add",value:function e(n,r,i){var o=this,a=arguments.length>1&&void 0!==r?r:"",s=arguments.length>2&&void 0!==i?i:"";if(t.isWPError(n)){var u=n.errors,c=n.hasOwnProperty("error_data")?n.error_data:"";for(var l in u){var d=u[l];if(d instanceof Array){var f=w(d),p;try{for(f.s();!(p=f.n()).done;){var h=p.value;this.add(l,h,c)}}catch(t){f.e(t)}finally{f.f()}}else this.add(l,d,c)}}else if(t.isHTTPError(n)){var m=n.response?n.response:n,v=m.status,g=m.statusText;!1===m.ok&&(this.add(v,g,m),"string"==typeof n.body&&n.body?this.add(v,n.body):m.body instanceof ReadableStream&&!m.body.locked&&m.text().then((function(t){t&&o.add(v,t)})))}else!n||"string"!=typeof n&&"number"!=typeof n||(this.errors.hasOwnProperty(n)||(this.errors[n]=[]),this.errors["".concat(n)].push(a),this.addData(s,n))}},{key:"addData",value:function t(e,n){var r=arguments.length>1&&void 0!==n?n:"";if(e)if(r||(r=this.getErrorCode()),"object"===a(e))for(var i in e)this.errorData[i]=e[i];else this.errorData[r]=e}},{key:"hasErrors",value:function t(){return Object.keys(this.errors).length>0}},{key:"wrapErrors",value:function t(e,n){var r=arguments.length>0&&void 0!==e?e:"",i=arguments.length>1&&void 0!==n?n:{},a="",s=this.getErrorMessages(r);i=o({tagName:"div",className:"error-entry"},i);var u=w(s),c;try{for(u.s();!(c=u.n()).done;){var l=c.value;a+="<".concat(i.tagName,' class="').concat(i.className,'">').concat(l,"</").concat(i.tagName,">\n")}}catch(t){u.e(t)}finally{u.f()}return a.trim()}}]),t}();Zt.isWPError=function(t){return"object"===a(t)&&t.hasOwnProperty("errors")&&"object"===a(t.errors)},Zt.isHTTPError=function(t){return"object"===a(t)&&(t instanceof Response||t.response instanceof Response)&&t.status>=300};var Gt="do_download",Kt="do_backup",te="do_import",ee="do_complete",ne="do_remove",re=function(){function t(e){s(this,t),this.type=e.type,this.args=e.args,this.isCompleted=e.completed,this.errors=new Zt}return c(t,[{key:"getType",value:function t(){return this.type}},{key:"getArgs",value:function t(){return this.args}},{key:"getArg",value:function t(e){return this.args.hasOwnProperty(e)?this.args[e]:null}},{key:"completed",value:function t(e){var n=arguments.length>0&&void 0!==e?e:null;return"boolean"==typeof n&&(this.isCompleted=n),this.isCompleted}},{key:"getErrors",value:function t(){return this.errors}},{key:"installPlugin",value:function t(e,n,r){var i=this,o=this.getArg("slug"),a=this.getArg("installed"),s,u=e.$requiredPlugins.filter('[data-plugin-slug="'.concat(o,'"]')).find(".kalium-demos__content-pack-view-required-plugins-status span");u.addClass("installing"),a?u.html("Activating&hellip;"):u.html("Installing&hellip;"),this.errors=new Zt,e.api(this.getType(),this.getArgs()).then((function(t){var e=x(t.body,".kalium-tgmpa-ajax-response"),o=!(!e||!e.hasOwnProperty("success"))&&e.success;i.completed(!0),u.removeClass("install installing activate"),o?(u.addClass("active").html("Active"),n(e)):(u.addClass("failed").html("Failed"),i.errors.add("plugin_install_failed","Plugin install or activate action failed!"),r({type:"plugin-install-fail",message:i.errors.getErrorMessage()}))})).catch((function(t){u.removeClass("install installing activate"),u.addClass("failed").html("Failed"),i.completed(!0),i.errors.add(t),r({type:"plugin-install-fail",message:i.errors.getErrorMessage()})}))}},{key:"importContent",value:function t(e,n,r){var i=this,a=this.getArg("import_id"),s=this.getArg("import_name"),u=this.getArg("uninstall"),c=e.getContentImportField(a),l=c.label,d={importId:a,checked:c.checked,args:JSON.stringify(c.argsFields)};u?e.setProgressStatus("Removing ".concat(l,"...")):e.setProgressStatus("Importing ".concat(l,"...")),this.errors=new Zt;var f=function t(e,n){var r=arguments.length>1&&void 0!==n?n:[],o=T(e.body),a=new Zt;Zt.isHTTPError(e)?a.add("http_error_".concat(e.status),"Status code: ".concat(e.status," ").concat(e.statusText)):a.add("unknown_error","An unknown error occurred (error code ".concat(e.status,")")),o&&a.add(a.getErrorCode(),'<pre class="kalium-demos__popup-errors-pre">'.concat(o,"</pre>")),i.errors.add(a),E(a,r,{title:"Error - ".concat(s)})},p=function t(o,a){return new Promise((function(t,o){var u=x(a.body,".kalium-demo-content-import-response"),c={registerTheme:{title:"Register theme",link:"admin.php?page=kalium&tab=theme-registration",class:"button button-primary"},continue:{title:"Continue",class:"button button-primary",click:function e(n){n.close(),t()}},retry:{title:"Retry",class:"button",click:function t(o){o.close(),i.importContent(e,n,r)}},close:{title:"Close",click:function t(e){e.close(),r({abort:!0})}},closePopup:{title:"Close",click:function t(n){n.close(),e.close(),r({abort:!0})}}};if(u)if(u.success)t();else if(Zt.isWPError(u)){var l=new Zt(u),d="Error - ".concat(s),p=l.getErrorData(),h=[c.continue,c.retry,c.close];if(i.errors.add(l),p&&p.silent)return void t({silent:!0});if(p&&p.popupButtons){h=[];var m=w(p.popupButtons),v;try{for(m.s();!(v=m.n()).done;){var g=v.value;c.hasOwnProperty(g)&&h.push(c[g])}}catch(t){m.e(t)}finally{m.f()}}E(l,h,{title:d})}else{var y=new Zt("unknown_error","An unknown error occurred"),k=T(JSON.stringify(u));i.errors.add(y),y.add(y.getErrorCode(),'<pre class="kalium-demos__popup-errors-pre">'.concat(k,"</pre>")),E(y,[c.continue,c.close],{title:"Error - ".concat(s)})}else f(a,[c.continue,c.retry,c.close])}))},h=function t(e,n){return new Promise((function(t,i){var o,a,s={continue:{title:"Continue",class:"button button-primary",click:function e(n){n.close(),t()}},close:{title:"Close",click:function t(e){e.close(),r({abort:!0})}}}
;x(n&&n.body?n.body:"",".kalium-demo-content-import-response")?p(e,n).then(t).catch(i):n&&n.abort?r(n):f(n,[s.continue,s.close])}))},m,v,g,y,k;u?e.api(this.getType(),o({importAction:ne},d)).then((function(t){return p(ne,t)})).catch((function(t){return h(ne,t)})).finally((function(){i.completed(!0),n()})):e.api(this.getType(),o({importAction:Gt},d)).then((function(t){return p(Gt,t)})).catch((function(t){return h(Gt,t)})).then((function(){return e.api(i.getType(),o({importAction:Kt},d)).then((function(t){return p(Kt,t)})).catch((function(t){return h(Kt,t)}))})).then((function(){return e.api(i.getType(),o({importAction:te},d)).then((function(t){return p(te,t)})).catch((function(t){return h(te,t)}))})).then((function(){return e.api(i.getType(),o({importAction:ee},d)).then((function(t){return p(ee,t)})).catch((function(t){return h(ee,t)}))})).finally((function(){i.completed(!0),n()}))}},{key:"execute",value:function t(e){var n=this;return new Promise((function(t,r){"plugin-install"===n.getType()?n.installPlugin(e,t,r):"content-import"===n.getType()&&n.importContent(e,t,r)}))}}]),t}(),ie=function(){function t(e){s(this,t),this.importInstance=e}return c(t,[{key:"getTasks",value:function t(e){return this.importInstance.tasksList.filter((function(t){return!e||t.getType()===e}))}},{key:"runTasks",value:function t(e,n){var r=this,i=arguments.length>1&&void 0!==n?n:null;return new Promise((function(t,n){var o=r.getTasks(e),a=[],s=function e(o){var s=o.shift(),u=performance.now();r.updateProgressBar(),s?s.completed()?e(o):s.execute(r.importInstance).then((function(){i instanceof Function&&i.call(r,s);var t=(performance.now()-u)/1e3;a.push(t);var n=s.getType();"plugin-install"===n?n+=": "+s.getArg("name"):"content-import"===n&&(n+=": "+s.getArg("import_name")),S(n,+t.toFixed(1),"s"),e(o)})).catch((function(t){t&&t.abort?n({errCode:0,reason:"Aborted by user."}):e(o)})):(S("***","Total time:",+(a=a.length>0?a.reduce((function(t,e){return t+e})):0).toFixed(1),"s","***"),t())};s(o)}))}},{key:"getCompletedTasksNumber",value:function t(e){var n=0,r=w(this.getTasks(e)),i;try{for(r.s();!(i=r.n()).done;){var o;i.value.completed()&&n++}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"updateProgressBar",value:function t(){var e={},n=0,r=0,i={"plugin-install":1,"content-import":3},o=w(this.importInstance.tasksList),a;try{for(o.s();!(a=o.n()).done;){var s=a.value,u=s.getType();e[u]||(e[u]={weight:1,tasks:[]},i.hasOwnProperty(u)&&(e[u].weight=i[u])),e[u].tasks.push(s),n+=e[u].weight}}catch(t){o.e(t)}finally{o.f()}for(var c in e){var l=w(e[c].tasks),d;try{for(l.s();!(d=l.n()).done;){var f;d.value.completed()&&(r+=e[c].weight)}}catch(t){l.e(t)}finally{l.f()}}this.importInstance.setProgress(r/n*100)}}]),t}(),oe={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},ae={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},se=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],ue={CSS:{},springs:{}},ce={arr:function t(e){return Array.isArray(e)},obj:function t(e){return A(Object.prototype.toString.call(e),"Object")},pth:function t(e){return ce.obj(e)&&e.hasOwnProperty("totalLength")},svg:function t(e){return e instanceof SVGElement},inp:function t(e){return e instanceof HTMLInputElement},dom:function t(e){return e.nodeType||ce.svg(e)},str:function t(e){return"string"==typeof e},fnc:function t(e){return"function"==typeof e},und:function t(e){return void 0===e},hex:function t(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function t(e){return/^rgb/.test(e)},hsl:function t(e){return/^hsl/.test(e)},col:function t(e){return ce.hex(e)||ce.rgb(e)||ce.hsl(e)},key:function t(e){return!oe.hasOwnProperty(e)&&!ae.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}},le=function(){function t(t,e){return 1-3*e+3*t}function e(t,e){return 3*e-6*t}function n(t){return 3*t}function r(r,i,o){return((t(i,o)*r+e(i,o))*r+n(i))*r}function i(r,i,o){return 3*t(i,o)*r*r+2*e(i,o)*r+n(i)}function o(t,e,n,i,o){var a,s,u=0;do{(a=r(s=e+(n-e)/2,i,o)-t)>0?n=s:e=s}while(Math.abs(a)>1e-7&&++u<10);return s}function a(t,e,n,o){for(var a=0;a<4;++a){var s=i(e,n,o),u;if(0===s)return e;e-=(r(e,n,o)-t)/s}return e}function s(t,e,n,s){function l(e){for(var r=0,s=1,u=10;s!==u&&d[s]<=e;++s)r+=c;--s;var l,f=r+(e-d[s])/(d[s+1]-d[s])*c,p=i(f,t,n);return p>=.001?a(e,f,t,n):0===p?f:o(e,r,r+c,t,n)}if(0<=t&&t<=1&&0<=n&&n<=1){var d=new Float32Array(u);if(t!==e||n!==s)for(var f=0;f<u;++f)d[f]=r(f*c,t,n);return function(i){return t===e&&n===s||0===i||1===i?i:r(l(i),e,s)}}}var u=11,c=.1;return s}(),de=(fe={linear:function t(){return function(t){return t}}},pe={Sine:function t(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Circ:function t(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function t(){return function(t){return t*t*(3*t-2)}},Bounce:function t(){return function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}},Elastic:function t(e,n){void 0===e&&(e=1),void 0===n&&(n=.5);var r=I(e,1,10),i=I(n,.1,2);return function(t){return 0===t||1===t?t:-r*Math.pow(2,10*(t-1))*Math.sin((t-1-i/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(t,e){pe[t]=function(){return function(t){return Math.pow(t,e+2)}}})),Object.keys(pe).forEach((function(t){var e=pe[t];fe["easeIn"+t]=e,fe["easeOut"+t]=function(t,n){return function(r){return 1-e(t,n)(1-r)}},fe["easeInOut"+t]=function(t,n){return function(r){return r<.5?e(t,n)(2*r)/2:1-e(t,n)(-2*r+2)/2}}})),fe),fe,pe,he,me={css:function t(e,n,r){return e.style[n]=r},attribute:function t(e,n,r){return e.setAttribute(n,r)},object:function t(e,n,r){return e[n]=r},transform:function t(e,n,r,i,o){if(i.list.set(n,r),n===i.last||o){var a="";i.list.forEach((function(t,e){a+=e+"("+t+") "})),e.style.transform=a}}},ve=0,ge=[],ye=[],ke,be=function(){function t(){ke=requestAnimationFrame(e)}function e(e){var n=ge.length;if(n){for(var r=0;r<n;){var i=ge[r];if(i.paused){var o=ge.indexOf(i);o>-1&&(ge.splice(o,1),n=ge.length)}else i.tick(e);r++}t()}else ke=cancelAnimationFrame(ke)}return t}();"undefined"!=typeof document&&document.addEventListener("visibilitychange",Mt),jt.version="3.1.0",jt.speed=1,jt.running=ge,jt.remove=Ft,jt.get=ot,jt.set=Tt,jt.convertPx=tt,jt.path=yt,jt.setDashoffset=mt,jt.stagger=Lt,jt.timeline=Dt,jt.easing=L,jt.penner=de,jt.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};var we=jt,_e=function t(e){var n=arguments.length>0&&void 0!==e?e:{},r=n.headers,i=void 0===r?{}:r;n.body;var o=n.method,s=void 0===o?"get":o,u=n.auth;"undefined"==typeof Headers&&require("cross-fetch/polyfill");var c=new Headers(i);if(c.get("content-type")||"get"===s||c.set("content-type","application/json"),u)if("object"===a(u)){var l=u.username,d=u.password,f;if(!l)throw new Error("Username required for basic authentication");if(!d)throw new Error("Password required for basic authentication");f="btoa"in window?btoa:require("btoa"),c.set("Authorization","Basic "+f("".concat(l,":").concat(d)))}else c.set("Authorization","Bearer ".concat(u));return c},Ce=function t(e){if(e)return Object.entries(e).reduce((function(t,e,n){var r=d(e,2),i=r[0],o=r[1],a=0===n?"".concat(i,"=").concat(encodeURIComponent(o)):"&".concat(i,"=").concat(encodeURIComponent(o));return"".concat(t).concat(a)}),"")},Pe=function t(e){var n=e.url,r=e.queries;return r?"".concat(n,"?").concat(Ce(r)):n},Oe=function t(e){var n;if("get"!==e.method){var r=e.headers.get("content-type");if(r)return r.includes("x-www-form-urlencoded")?Ce(e.body):r.includes("json")?JSON.stringify(e.body):e.body}},xe=function(t){var e=arguments.length>0&&void 0!==t?t:{},n=Object.assign({},e);return n.url=Pe(n),n.method=n.method||"get",n.headers=_e(n),n.body=Oe(n),delete n.auth,n},Ee=function t(e){var n={},r=w(e.headers.entries()),i;try{for(r.s();!(i=r.n()).done;){var o=d(i.value,2),a=o[0],s=o[1];n[a]=s}}catch(t){r.e(t)}finally{r.f()}return n},Te=function t(e){var n={},r=e.headers._headers;for(var i in r)n[i]=r[i].join("");return n},$e=function t(e){return e.headers.entries?Ee(e):Te(e)},Se=function t(e,n){var r,i={body:n,headers:$e(e),response:e,status:e.status,statusText:e.statusText};return e.ok?Promise.resolve(i):Promise.reject(i)},Ie=function t(e,n){var r,i=("function"==typeof e.clone?e.clone():void 0)||e;return e[n]().then((function(t){return Se(i,t)}))},Ae=function t(e){var n=e.headers.get("content-type");if(n.includes("json"))return Ie(e,"json");if(n.includes("text"))return Ie(e,"text");if(n.includes("image"))return Ie(e,"blob");throw new Error("zlFetch does not support content-type ".concat(n," yet"))},Me=function t(e){return"Failed to fetch"===e.message?Promise.reject({error:e}):Promise.reject(e)};"undefined"==typeof fetch&&require("cross-fetch/polyfill");for(var je=function t(e,n){var r=xe(Object.assign({url:e},n));return fetch(r.url,r).then(Ae).catch(Me)},Be,Fe=function t(){var e=De[Le];je[e]=function(t,n){return n=Object.assign({method:e},n),je(t,n)}},Le=0,De=["get","post","put","patch","delete"];Le<De.length;Le++)Fe();var qe={start:"Install",loading:"Loading...",preparing:"Preparing...",importing:"Importing...",uninstalling:"Uninstalling..."},Ne=function(){function t(e,n,r){var i=this;s(this,t),this.contentPackID=e,this.tasksList=[],this.taskRunner=null,this.errors=[],this.isLoading=!1,this.credentialsRequired=!1,this.credentials=null,this.popup=r,this.$container=$(n),this.$requiredPlugins=this.$container.find(".kalium-demos__content-pack-view-required-plugins [data-plugin-slug]"),this.$imports=this.$container.find(".kalium-demos__content-pack-view-imports .kalium-demos__content-pack-view-import"),this.$importButton=this.$container.find("#start_import"),this.$uninstallButton=this.$container.find("#start_uninstall"),this.$progressContainer=this.$container.find(".kalium-demos__content-pack-view-progress"),this.$progressText=this.$progressContainer.find(".kalium-demos__content-pack-view-progress-status-text"),this.$progressBarPercentage=this.$progressContainer.find(".kalium-demos__content-pack-view-progress-status-percentage"),this.$progressBar=this.$progressContainer.find(".kalium-demos__content-pack-view-progress-bar-fill"),this.$importButton.on("click",(function(t){t.preventDefault(),i.import()})),this.$uninstallButton.on("click",(function(t){t.preventDefault(),i.uninstall()})),this.setupOptionalPostTypesImport(),this.$uninstallButton.length?this.setupUninstallButtonToggle():this.setupImportButtonToggle()}return c(t,[{key:"disableContentImportFields",value:function t(e){var n=!(arguments.length>0&&void 0!==e)||e,r=w(this.getContentImportFields()),i;try{for(r.s();!(i=r.n()).done;){var o=i.value;o.$input.prop("disabled",n),o.$argsFields.find("input").prop("disabled",n)}}catch(t){r.e(t)}finally{r.f()}}},{key:"setupOptionalPostTypesImport",value:function t(){var e=w(this.$imports),n;try{for(e.s();!(n=e.n()).done;){var r=n.value,i=$(r);"wordpress-import"===i.data("import-type")&&function(){var t=i.find(".kalium-demos__content-pack-view-imports-checkbox input"),e=i.find('.kalium-demos__content-pack-view-imports-args-fields [data-field-name="post_types"] input');if(e.length){var n=function n(){var r=w(e),i;try{for(r.s();!(i=r.n()).done;){var o=i.value,a=$(o),s=a.val(),u=t.is(":checked");u&&a.prop("checked",!0),"attachment"===s&&(u=!1),a.prop("disabled",u)}}catch(t){r.e(t)}finally{r.f()}};n(),t.on("change",n)}}()}}catch(t){e.e(t)}finally{e.f()}}},{key:"setupImportButtonToggle",value:function t(){var e=this,n=this.getContentImportFields(),r=function t(r){var i=!1,o=w(n),a;try{for(o.s();!(a=o.n()).done;){var s=a.value,u;if(!(s.$input.is(":disabled")||s.$input.hasClass("disabled"))&&s.$input.is(":checked")){i=!0;break}}}catch(t){o.e(t)}finally{o.f()}e.$importButton.prop("disabled",!i)},i=w(n),o;try{for(i.s();!(o=i.n()).done;){var a;o.value.$input.on("change",r)}}catch(t){i.e(t)}finally{i.f()}}},{key:"setupUninstallButtonToggle",value:function t(){var e=this,n=this.getContentImportFields(),r=function t(r){var i=!1,o=w(n),a;try{for(o.s();!(a=o.n()).done;){var s;if(a.value.$input.is(":checked")){i=!0;break}}}catch(t){o.e(t)}finally{o.f()}e.$uninstallButton.prop("disabled",!i)},i=w(n),o;try{for(i.s();!(o=i.n()).done;){var a;o.value.$input.on("change",r)}}catch(t){i.e(t)}finally{i.f()}}},{key:"getContentImportFields",value:function t(){var e=[];return this.$imports.each((function(t,n){var r=$(n),i=r.find(".import-field"),o=r.find(".kalium-demos__content-pack-view-imports-label").text().trim(),a=r.find(".kalium-demos__content-pack-view-imports-args-fields [data-field-name]"),s={};e.push({type:r.data("import-type"),id:i.val(),label:o,checked:i.is(":checked"),argsFields:s,$importEl:r,$input:i,$argsFields:a}),a.length&&a.each((function(t,e){var n=$(e),r=n.find("input"),i=n.data("field-name"),o=r.val();r.is(":checked")&&(s.hasOwnProperty(i)||(s[i]=[]),s[i].push(o))}))})),e}},{key:"getContentImportField",value:function t(e){return this.getContentImportFields().filter((function(t){return e===t.id})).pop()}},{key:"api",value:function t(e,n){var r=arguments.length>1&&void 0!==n?n:{},i=ajaxurl+"?action=kalium_demos_import_actions";return this.credentials&&$.extend(r,this.credentials),$.extend(r,{contentPack:this.contentPackID,contentPackAction:e}),je(i,{method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},body:r})}},{key:"importStart",value:function t(){var e=this;return new Promise((function(t,n){e.disableContentImportFields(!0),t()}))}},{key:"checkServerLimits",value:function t(){var e=this;return new Promise((function(t,n){e.setProgressStatus("Checking server limits..."),e.api("check-server-limits").then((function(r){var i=r.body.wp_memory_limit,o=r.body.max_execution_time,a=r.body.domdocument,s=r.body.remote_get,u=r.body.filesystem_method,c=r.body.recommended_memory_limit,l=r.body.recommended_execution_time,d=[],f=[];if(e.credentialsRequired="direct"!==u,(i=i/1024/1024)<c&&f.push({message:'Minimum recommended memory limit is <strong class="green">'.concat(c,' MB</strong>. Your current memory limit is <strong class="red">').concat(i," MB</strong>")}),o<l&&f.push({message:'Minimum recommended execution time is <strong class="green">'.concat(l,'</strong> to avoid stopping the import process. Your maximum PHP execution time is <strong class="red">').concat(o,"</strong>")}),s.errors||s.response&&s.response.code>300){if(d.push({message:"Theme API server is not accessible from your site."}),s.errors)for(var p in s.errors)d.push({message:"".concat(s.errors[p]," (Error code: ").concat(p,")")});s.response&&(s.response.code>300||s.response.code<200)&&d.push({message:"".concat(s.response.code," - ").concat(s.response.message)})}if(a||d.push({message:"DOMDocument is not installed on your server, but is required to Import Demo Content data."}),d.length>0){var h,m,v=new Xt("Error (import process could not continue)",qt("Critical errors have been identified in your server, therefore the import process cannot continue because of the following reasons:",d,[{class:"button button-primary button-learn-more",title:"Learn more",link:"https://documentation.laborator.co/kb/kalium/kalium-server-requirements/"},{class:"button button-close",title:"Close"}]),{dismissable:!1,dismissOverlay:!1,minWidth:600,hideOtherActive:!1});v.open(),v.$contentBody.on("click",".button-learn-more",(function(t){v.close(),n({errCode:1,reason:"Process could not continue because of reported errors."})})),v.$contentBody.on("click",".button-close",(function(t){v.close(),n({errCode:2,reason:"Process could not continue because of reported errors."})}))}else if(f.length>0){var g,y,k=new Xt("Server limits warning",qt("Before proceeding with demo content import, please note that the following warnings are reported from sever check:",f,[{class:"button button-primary button-increase-limits",title:"Increase limits",link:"https://documentation.laborator.co/kb/general/how-to-upgrade-php-version-and-increase-server-limits/"},{class:"button button-continue",title:"Continue"}]),{dismissable:!1,dismissOverlay:!1,minWidth:600,hideOtherActive:!1});k.open(),k.$contentBody.on("click",".button-increase-limits",(function(t){k.close(),n({errCode:3,reason:"Process stopped by the user."})})),k.$contentBody.on("click",".button-continue",(function(e){k.close(),t(r)}))}else t(r);e.setProgressStatus("")}))}))}},{key:"credentialsForm",value:function t(){var e=this;return new Promise((function(t,n){e.credentialsRequired?(e.api("request-filesystem-credentials").then((function(r){if(!1===r.body.ok){var i=new Xt(null,r.body.credentials_form,{dismissable:!0,dismissOverlay:!1,minWidth:600,hideOtherActive:!1});i.open();var o=$(i.$content.find("#request-filesystem-credentials-form").parent()),a=o.find('input[type="submit"]');o.on("submit",(function(){var n={};return $.each(o.serializeArray(),(function(t,e){n[e.name]=e.value})),a.addClass("disabled"),e.api("request-filesystem-credentials",n).then((function(r){r.body.ok?(e.credentials=n,$(i).unbind(),i.close(),t()):alert("An error occurred: "+r.body.error_message),a.removeClass("disabled")})),!1})),$(i).on("popup.close",(function(){e.errors.push(new Zt("credentials_not_provided","Import process could not continue!")),n({errCode:4,reason:"Credentials not provided!"})}))}else t()})),e.setProgressStatus("Credentials required")):t()}))}},{key:"getTasksList",value:function t(){var e=this;return new Promise((function(t,n){e.setProgressStatus("Retrieving tasks list..."),e.api("tasks-list").then((function(e){200===e.status?t(e.body):n({errCode:5,reason:"Cannot get tasks list!"})})).catch((function(){return n()}))}))}},{key:"getUninstallTaskList",value:function t(){var e=this;return new Promise((function(t,n){e.api("uninstall-tasks-list").then((function(e){200===e.status?t(e.body):n({errCode:6,reason:"Cannot get tasks list!"})})).catch((function(){return n()}))}))}},{key:"registerTasksList",value:function t(e){var n=this;return new Promise((function(t,r){n.setProgressStatus("Registering tasks...");var i=0,o=function t(e){var r=e.getArg("import_id"),i=n.getContentImportField(r);return!e.completed()&&(i&&(i.checked||i.argsFields.length>0))},a=w(e),s;try{for(a.s();!(s=a.n()).done;){var u=s.value,c=new re(u);"content-import"===c.getType()&&!1===o(c)||(c.completed()||i++,n.tasksList.push(c))}}catch(t){a.e(t)}finally{a.f()}i>0?(n.taskRunner=new ie(n),t(n.taskRunner)):r({errCode:7,reason:"There are no tasks to complete!"})}))}},{key:"installRequiredPlugins",value:function t(){return this.setProgressStatus("Installing required plugins..."),this.taskRunner.runTasks("plugin-install")}},{key:"importContentTypes",value:function t(){return this.setProgressStatus("Importing demo content..."),this.buttonStatus("importing"),this.taskRunner.runTasks("content-import")}},{key:"uninstallContentTypes",value:function t(){return this.taskRunner.runTasks("content-import")}},{key:"setInstallState",value:function t(){return this.setProgressStatus("Finishing install..."),this.api("set-install-state")}},{key:"import",value:function t(){var e=this;this.buttonStatus("preparing"),this.toggleProgress(!0),this.setProgressStatus("Preparing import...");var n=function t(n){return e.importFailed(n)},r,i,o,a,s,u,c,l;this.importStart().then((function(){return e.checkServerLimits()})).catch(n).then((function(){return e.credentialsForm()})).catch(n).then((function(){return e.getTasksList()})).catch(n).then((function(t){return e.registerTasksList(t)})).catch(n).then((function(){return e.installRequiredPlugins()})).catch(n).then((function(){return e.importContentTypes()})).catch(n).then((function(){return e.setInstallState()})).catch(n).then((function(){e.importFinished("success")}))}},{key:"uninstall",value:function t(){var e=this;this.buttonStatus("uninstalling"),this.toggleProgress(!0),this.setProgressStatus("Starting uninstall process..."),this.disableContentImportFields(!0);var n=function t(n){return e.importFailed(n)},r,i,o,a;this.getUninstallTaskList().then((function(t){return e.registerTasksList(t)})).catch(n).then((function(){return e.uninstallContentTypes()})).catch(n).then((function(){return e.setInstallState()})).catch(n).then((function(){e.importFinished("success")}))}},{key:"importFailed",value:function t(e){return this.importFinished("failed"),new Promise((function(){return null}))}},{key:"importFinished",value:function t(e){var n=arguments.length>0&&void 0!==e?e:"";n="failed"===n?n:"success";var r=this.$container.find(".kalium-demos__content-pack-view"),i=$(this.$container.find(".content-import-".concat(n,"-template")).html().replace("{{contentPackName}}",r.data("name"))),o=i.find(".kalium-demos__content-pack-finish-view-errors");if(0<this.errors.length){o.removeClass("hidden");var a=w(this.errors),s;try{for(a.s();!(s=a.n()).done;){var u=s.value;$("<li></li>").append($("<h4></h4>").append(u.wrapErrors())).append("ERR_CODE: ".concat(u.getErrorCode())).appendTo(o)}}catch(t){a.e(t)}finally{a.f()}}var c=w(this.tasksList),l;try{for(c.s();!(l=c.n()).done;){var d=l.value;if(d.getErrors().hasErrors()){var f=d.getErrors(),p=d.getArg("import_id"),h=this.getContentImportField(p);h&&(o.removeClass("hidden"),$("<li></li>").append($("<h4></h4>").append(h.label)).append(f.wrapErrors("",{className:"kalium-demos__content-pack-finish-view-error-description"})).appendTo(o))}}}catch(t){c.e(t)}finally{c.f()}i.find(".kalium-demos__content-pack-finish-view-heading-link").on("click",(function(){setTimeout((function(){window.location.reload()}),1500)})),this.$container.append(i);var m=i.outerHeight();i.hide(),we({targets:r[0],easing:"easeInOutSine",opacity:0,duration:300,complete:function t(){return we({targets:r[0],easing:"easeInOutSine",height:m,duration:300,complete:function t(){r.hide(),i.show(),we({targets:i[0],easing:"easeInOutSine",opacity:1,duration:300,complete:function t(){}})}})}})}},{key:"close",value:function t(){this.popup.close()}},{key:"buttonStatus",value:function t(e){var n=$([].concat(f(this.$importButton.get()),f(this.$uninstallButton.get()))),r=Object.keys(qe);-1!==$.inArray(e,r)&&n.removeClass(r.concat(" ")+" disabled").addClass(e).html(qe[e].replace("...","&hellip;")),-1!==$.inArray(e,["preparing","loading","importing","uninstalling"])&&n.addClass("disabled")}},{key:"toggleProgress",value:function t(e){this.$progressContainer[e?"addClass":"removeClass"]("visible")}},{key:"setProgress",value:function t(e){var n=this;e>100?e=100:e<0&&(e=0);var r=0;we({targets:this.$progressBar[0],width:"".concat(e,"%"),easing:"easeInOutSine",duration:700,update:function t(e){r=parseInt(e.animations[0].currentValue,10),n.$progressBarPercentage.text("".concat(r,"%"))}})}},{key:"setProgressStatus",value:function t(e){this.$progressText.html(e.replace("...","&hellip;"))}}]),t}();r((function(){$(".kalium-demos").on("click",".kalium-demos__content-pack-entry-link",(function(t){t.preventDefault();var e=$(this).data("link"),n=$(this).closest("[data-content-pack-id]").data("content-pack-id"),r=new Xt(e,{minWidth:780,minHeight:350,maxHeight:750,dismissOverlay:!1});$(r).on("popup.load",(function(t,e,i){new Ne(n,i,r)})),r.open()})),$(".kalium-demos .kalium-demos__content-pack-entry-image").each((function(t,e){var n=$(e),r=n.find("img");r.on("load",(function(){var t,e=r.outerHeight()-n.outerHeight();if(e>40){var i=e/160;r.css("transition-duration","".concat(i,"s")),n.on("mouseover",(function(){r.css("transform","translateY(-".concat(e,"px)"))})),n.on("mouseout",(function(){r.css("transform","translateY(0px)")}))}}))}))}))}));